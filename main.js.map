{"version":3,"file":"main.js","mappings":"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","sources":["webpack://yandex.praktikum/webpack/bootstrap","webpack://yandex.praktikum/webpack/runtime/define property getters","webpack://yandex.praktikum/webpack/runtime/hasOwnProperty shorthand","webpack://yandex.praktikum/./src/components/card.js","webpack://yandex.praktikum/./src/components/modal.js","webpack://yandex.praktikum/./src/index.js","webpack://yandex.praktikum/./src/scripts/cards.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import { cardTemplate, openImageHandler } from \"../index.js\";\r\nexport { deleteCard, createCard };\r\n\r\n// @todo: Функция создания карточки\r\n\r\nfunction createCard(card, deleteCallback, openImageHandler) {\r\n  const cardElement = cardTemplate.querySelector(\".card\").cloneNode(true);\r\n  const cardImages = cardElement.querySelector(\".card__image\");\r\n  const cardTitle = cardElement.querySelector(\".card__title\");\r\n  cardImages.alt = card.name;\r\n  cardImages.src = card.link;\r\n  cardTitle.textContent = card.name;\r\n\r\n  cardImages.addEventListener(\"click\", () => {\r\n    openImageHandler(cardImages.src, cardImages.alt, cardTitle.textContent);\r\n  });\r\n\r\n  cardElement.querySelector(\".card__delete-button\").addEventListener(\"click\", function () {deleteCallback(cardElement)});\r\n\r\n  const likeBtn = cardElement.querySelector(\".card__like-button\");\r\n  likeBtn.addEventListener(\"click\", toggleLike);\r\n\r\n  return cardElement;\r\n}\r\n\r\n// @todo: Функция удаления карточки\r\nfunction deleteCard(cardElement) {\r\n  cardElement.remove();\r\n}\r\n\r\nfunction toggleLike(evt) {\r\n  evt.currentTarget.classList.toggle(\"card__like-button_is-active\");\r\n}","export { openPopup, closePopup, closePopupOverlay };\r\n\r\n// Закрытие окна по esc\r\nfunction closeByEsc(evt) {\r\n  if (evt.key === \"Escape\") {\r\n    const openedPopup = document.querySelector(\".popup.popup_is-opened\");\r\n    if (openedPopup) {\r\n      closePopup(openedPopup);\r\n    }\r\n  }\r\n}\r\n\r\nfunction openPopup(popup) {\r\n  popup.classList.add(\"popup_is-opened\");\r\n  document.addEventListener(\"keydown\", closeByEsc);\r\n}\r\n\r\nfunction closePopup(popup) {\r\n  popup.classList.remove(\"popup_is-opened\");\r\n  document.removeEventListener(\"keydown\", closeByEsc);\r\n}\r\n\r\nfunction closePopupOverlay(evt) {\r\n  const popupContent = evt.target.closest(\".popup__content\");\r\n  if (!popupContent) {\r\n    const popup = evt.target.closest(\".popup\");\r\n    if (popup) {\r\n      closePopup(popup);\r\n    }\r\n  }\r\n}\r\n\r\nconst closeBtn = document.querySelectorAll(\".popup__close\");\r\n\r\ncloseBtn.forEach((btn) => {\r\n  btn.addEventListener(\"click\", () => {\r\n    const popup = btn.closest(\".popup\");\r\n    if (popup) {\r\n      closePopup(popup);\r\n    }\r\n  });\r\n});\r\n","import \"./pages/index.css\";\r\nimport { initialCards } from \"./scripts/cards.js\";\r\nimport { deleteCard, createCard } from \"./components/card.js\";\r\nimport {\r\n  openPopup,\r\n  closePopup,\r\n  closePopupOverlay,\r\n} from \"./components/modal.js\";\r\nexport { cardTemplate, openImageHandler };\r\n\r\n// @todo: Темплейт карточки\r\nconst cardTemplate = document.querySelector(\"#card-template\").content;\r\n\r\n// @todo: DOM узлы\r\nconst cardsContainer = document.querySelector(\".places__list\");\r\n\r\n// @todo: Вывести карточки на страницу\r\ninitialCards.forEach((card) => {\r\n  const createdCard = createCard(card, deleteCard, openImageHandler);\r\n  cardsContainer.appendChild(createdCard);\r\n});\r\n\r\n// Открытие и закрытие модального окна\r\nconst buttonOpenPopupProfile = document.querySelector(\".profile__edit-button\");\r\nconst buttonOpenPopupNewCard = document.querySelector(\".profile__add-button\");\r\nconst popupEdit = document.querySelector(\".popup_type_edit\");\r\nconst popupNewCard = document.querySelector(\".popup_type_new-card\");\r\n\r\nbuttonOpenPopupProfile.addEventListener(\"click\", () => openPopup(popupEdit));\r\nbuttonOpenPopupNewCard.addEventListener(\"click\", () => openPopup(popupNewCard));\r\n\r\npopupEdit.addEventListener(\"click\", (evt) => closePopupOverlay(evt, popupEdit));\r\npopupNewCard.addEventListener(\"click\", (evt) =>\r\n  closePopupOverlay(evt, popupNewCard)\r\n);\r\n\r\nconst hidePopupImg = document.querySelector(\".popup_type_image \");\r\nhidePopupImg.addEventListener(\"click\", (evt) =>\r\n  closePopupOverlay(evt, hidePopupImg)\r\n);\r\n\r\n// Изменение имени\r\nconst formElement = document.querySelector(\".popup__form\");\r\nconst nameInput = document.querySelector(\".popup__input_type_name\");\r\nconst jobInput = document.querySelector(\".popup__input_type_description\");\r\nconst nameElement = document.querySelector(\".profile__title\");\r\nconst jobElement = document.querySelector(\".profile__description\");\r\n\r\nfunction handleEditFormSubmit(evt) {\r\n  evt.preventDefault();\r\n\r\n  const name = nameInput.value;\r\n  const job = jobInput.value;\r\n\r\n  nameElement.textContent = name;\r\n  jobElement.textContent = job;\r\n\r\n  closePopup(popupEdit);\r\n}\r\n\r\nformElement.addEventListener(\"submit\", handleEditFormSubmit);\r\n\r\nnameInput.value = nameElement.textContent;\r\njobInput.value = jobElement.textContent;\r\n\r\n// Открытие иллюстрации\r\nconst popupTypeImage = document.querySelector(\".popup_type_image\");\r\nconst popupImageContent = popupTypeImage.querySelector(\r\n  \".popup__content_content_image\"\r\n);\r\nconst popupImage = popupImageContent.querySelector(\".popup__image\");\r\nconst popupCaption = document.querySelector(\".popup__caption\");\r\n\r\n// Функция добавления новой карточки\r\nconst popupNewCardForm = popupNewCard.querySelector(\".popup__form\");\r\nconst newCardNameInput = popupNewCard.querySelector(\r\n  \".popup__input_type_card-name\"\r\n);\r\nconst newCardLinkInput = popupNewCard.querySelector(\".popup__input_type_url\");\r\n\r\nfunction addNewCard(event) {\r\n  event.preventDefault();\r\n  const newCard = {\r\n    name: newCardNameInput.value,\r\n    link: newCardLinkInput.value,\r\n  };\r\n\r\n  const createdCard = createCard(newCard, deleteCard, openImageHandler);\r\n  cardsContainer.insertBefore(createdCard, cardsContainer.firstChild);\r\n  closePopup(popupNewCard);\r\n\r\n  event.target.reset();\r\n}\r\n\r\npopupNewCardForm.addEventListener(\"submit\", addNewCard);\r\n\r\nfunction openImageHandler(src, alt, caption) {\r\n  openPopup(popupTypeImage);\r\n  popupImage.src = src;\r\n  popupImage.alt = alt;\r\n  popupCaption.textContent = caption;\r\n}\r\n\r\n// Валидация формы\r\nconst formInput = document.querySelectorAll(\".popup__input\");\r\nconst formError = formElement.querySelector(`.${formInput.id}-error`);\r\nconst submitButton = document.querySelectorAll(\".popup__button\");\r\n\r\nconst showError = (input, errorMessage) => {\r\n  const errorElement = input.nextElementSibling;\r\n  errorElement.classList.add(\"form__input-error_active\");\r\n  errorElement.textContent = errorMessage;\r\n  submitButton.forEach((button) => {\r\n    button.setAttribute(\"disabled\", \"true\");\r\n    button.classList.add(\"popup__button-inactive\");\r\n  });\r\n};\r\n\r\nconst hideError = (input) => {\r\n  const errorElement = input.nextElementSibling;\r\n  errorElement.classList.remove(\"form__input-error_active\");\r\n  errorElement.textContent = \"\";\r\n  submitButton.forEach((button) => {\r\n    button.removeAttribute(\"disabled\", \"true\");\r\n    button.classList.remove(\"popup__button-inactive\");\r\n  });\r\n};\r\n\r\nconst isValid = (input) => {\r\n  if (input.validity.patternMismatch) {\r\n    input.setCustomValidity(input.dataset.errorMessage);\r\n  } else {\r\n    input.setCustomValidity(\"\");\r\n  }\r\n\r\n  if (!input.validity.valid) {\r\n    showError(input, input.validationMessage);\r\n  } else {\r\n    hideError(input);\r\n  }\r\n};\r\n\r\nformElement.addEventListener(\"submit\", function (evt) {\r\n  evt.preventDefault();\r\n  formInput.forEach((input) => isValid(input));\r\n});\r\n\r\nformInput.forEach((input) => {\r\n  input.addEventListener(\"input\", function () {\r\n    isValid(input);\r\n  });\r\n});\r\n\r\n// Работа с API\r\n\r\n// Загрузка информации о пользователе и карточек с сервера\r\nPromise.all([\r\n  fetch(\"https://nomoreparties.co/v1/wff-cohort-8/users/me\", {\r\n    headers: {\r\n      authorization: \"f0900dc3-fecd-4246-b516-514bd8cfc01c\",\r\n    },\r\n  }),\r\n  fetch(\"https://nomoreparties.co/v1/wff-cohort-8/cards\", {\r\n    headers: {\r\n      authorization: \"f0900dc3-fecd-4246-b516-514bd8cfc01c\",\r\n    },\r\n  }),\r\n])\r\n  .then(([userRes, cardsRes]) => Promise.all([userRes.json(), cardsRes.json()]))\r\n  .then(([userInfo, initialCards]) => {\r\n    console.log(\"Информация о пользователе:\", userInfo);\r\n    console.log(\"Начальные карточки:\", initialCards);\r\n  })\r\n  .catch((error) => {\r\n    console.error(\"Error:\", error);\r\n  });\r\n\r\nfetch('https://nomoreparties.co/v1/wff-cohort-8/users/me', {\r\n  method: 'PATCH',\r\n  headers: {\r\n    authorization: 'f0900dc3-fecd-4246-b516-514bd8cfc01c',\r\n    'Content-Type': 'application/json'\r\n  },\r\n  body: JSON.stringify({\r\n    name: 'Marie Skłodowska Curie',\r\n    about: 'Physicist and Chemist'\r\n  })\r\n})","const initialCards = [\r\n    {\r\n      name: \"Архыз\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg\",\r\n    },\r\n    {\r\n      name: \"Челябинская область\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg\",\r\n    },\r\n    {\r\n      name: \"Иваново\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg\",\r\n    },\r\n    {\r\n      name: \"Камчатка\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg\",\r\n    },\r\n    {\r\n      name: \"Холмогорский район\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg\",\r\n    },\r\n    {\r\n      name: \"Байкал\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg\",\r\n    }\r\n];\r\n\r\nexport {initialCards};"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","createCard","card","deleteCallback","openImageHandler","cardElement","cardTemplate","querySelector","cloneNode","cardImages","cardTitle","alt","name","src","link","textContent","addEventListener","toggleLike","deleteCard","remove","evt","currentTarget","classList","toggle","closeByEsc","openedPopup","document","closePopup","openPopup","popup","add","removeEventListener","closePopupOverlay","target","closest","querySelectorAll","forEach","btn","content","cardsContainer","createdCard","appendChild","buttonOpenPopupProfile","buttonOpenPopupNewCard","popupEdit","popupNewCard","formElement","nameInput","jobInput","nameElement","jobElement","preventDefault","value","job","popupTypeImage","popupImage","popupCaption","popupNewCardForm","newCardNameInput","newCardLinkInput","caption","event","insertBefore","firstChild","reset","formInput","submitButton","concat","id","isValid","input","validity","patternMismatch","setCustomValidity","dataset","errorMessage","valid","errorElement","nextElementSibling","button","removeAttribute","hideError","setAttribute","showError","validationMessage","Promise","all","fetch","headers","authorization","then","_ref","_ref2","_slicedToArray","userRes","cardsRes","json","_ref3","_ref4","userInfo","initialCards","console","log","catch","error","method","body","JSON","stringify","about"],"sourceRoot":""}